<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE xhtml>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:epub="http://www.idpf.org/2007/ops"
  xml:lang="en-US"
  lang="en-US"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Font</title>
    <link type="text/css" href="css/styles.css" rel="stylesheet" />
  </head>

  <body class="d-mode">
    <header>
      <button id="dyslexia-mode-toggle">Enable Dyslexia-Friendly Mode</button>
      <h1>The Ebook Card Look</h1>
    </header>
    <article>
      <main>
        <h2>Cards with Labels</h2>
        <p>
          Lorem, ipsum dolor sit amet <b>consectetur</b> adipisicing elit. Saepe
          officiis eaque facilis nostrum numquam fuga excepturi velit ex
          provident molestias corporis repudiandae quis labore, iure obcaecati
          accusamus laborum quod quos. Lorem ipsum dolor, sit amet consectetur
          adipisicing elit. Nulla sunt minima, quod ratione asperiores eaque
          eveniet eius quibusdam error consectetur incidunt culpa rerum earum
          sed repellendus, modi fugiat inventore. Cumque?
        </p>
        <p>
          Lorem, ipsum dolor sit amet <b>consectetur</b> adipisicing elit. Saepe
          officiis eaque facilis nostrum numquam fuga excepturi velit ex
          provident molestias corporis repudiandae quis labore, iure obcaecati
          accusamus laborum quod quos. Lorem ipsum dolor, sit amet consectetur
          adipisicing elit. Nulla sunt minima, quod ratione asperiores eaque
          eveniet eius quibusdam error consectetur incidunt culpa rerum earum
          sed repellendus, modi fugiat inventore. Cumque?
        </p>
      </main>
    </article>
    <script xmlns="http://www.w3.org/1999/xhtml">
      var toggleButton = document.getElementById("dyslexia-mode-toggle");
      var body = document.body;

      function applyDyslexiaFont() {
        if (localStorage.getItem("dyslexiaFontEnabled") === "true") {
          body.classList.add("dyslexia-mode");
        } else {
          body.classList.remove("dyslexia-mode");
        }
      }

      applyDyslexiaFont();

      window.addEventListener("storage", function (event) {
        if (event.key === "dyslexiaFontEnabled") {
          applyDyslexiaFont();
        }
      });

      toggleButton.addEventListener("click", function () {
        body.classList.toggle("dyslexia-mode");
        if (body.classList.contains("dyslexia-mode")) {
          localStorage.setItem("dyslexiaFontEnabled", "true");
        } else {
          localStorage.removeItem("dyslexiaFontEnabled");
        }
      });
    </script>
  </body>
</html>
